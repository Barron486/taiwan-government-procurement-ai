# 🔔 政府採購自動監控功能使用說明

## 📋 功能簡介

自動監控功能可以讓系統在每天固定時間（預設為 08:00 和 17:00）自動使用您設定的關鍵字搜尋當日的政府採購標案，並在發現新標案時通知您。

## 🚀 快速開始

### 1. 開啟監控設定
- 點擊搜尋按鈕區域中的 **「自動監控」** 按鈕（黃色按鈕）
- 監控設定面板會展開顯示

### 2. 設定監控關鍵字
在「監控關鍵字」文字框中輸入您想要監控的關鍵字，**每行一個關鍵字**。

**範例：**
```
醫療設備
資訊系統
辦公用品
清潔服務
工程建設
```

### 3. 選擇自動搜尋時間
- ☀️ **每天 08:00 自動搜尋**：早上 8 點搜尋昨晚到今早的新標案
- 🌙 **每天 17:00 自動搜尋**：下午 5 點搜尋今天的新標案

可以同時勾選兩個時間，或只選擇其中一個。

### 4. 設定搜尋範圍
- **僅今日**（推薦）：只搜尋今天發布的標案
- **最近3天**：搜尋最近3天的標案
- **最近7天**：搜尋最近7天的標案

### 5. 通知設定
- **瀏覽器通知**：發現新標案時顯示瀏覽器桌面通知（需授權）
- **聲音提醒**：發現新標案時播放提示音

### 6. 啟動監控
1. 點擊 **「儲存設定」** 按鈕保存您的設定
2. 點擊 **「啟動監控」** 按鈕開始自動監控
3. 監控狀態會顯示為「運作中」（綠色）

## 🎯 功能按鈕說明

| 按鈕 | 功能 |
|------|------|
| 🟢 啟動監控 | 開始自動監控，系統會在設定的時間自動搜尋 |
| 🔴 停止監控 | 停止自動監控 |
| 🧪 立即測試 | 立即執行一次監控搜尋，用於測試設定是否正確 |
| 💾 儲存設定 | 儲存監控關鍵字和其他設定 |
| 📜 監控記錄 | 查看歷史監控記錄（最近30次） |

## 📊 監控統計說明

監控面板底部會顯示今日統計資訊：

- **今日搜尋次數**：今天自動搜尋的次數
- **發現標案數**：今天搜尋到的標案總數
- **新增標案數**：今天首次發現的新標案數量
- **最後搜尋時間**：最近一次執行搜尋的時間

## 💡 使用技巧

### 1. 關鍵字設定建議
- 使用**精確的關鍵字**，例如「醫療設備」而不是「設備」
- 可以設定**多個相關關鍵字**，系統會分別搜尋
- 避免過於廣泛的關鍵字（例如「服務」），會找到太多無關結果

### 2. 時間設定建議
- **08:00**：適合查看昨晚發布的標案
- **17:00**：適合查看今天白天發布的標案
- 如果需要更頻繁監控，可以使用「立即測試」手動觸發

### 3. 新標案判定
系統會記錄所有已看過的標案，只有**第一次出現的標案**才會被標記為「新標案」並發送通知。

### 4. 瀏覽器通知授權
首次使用瀏覽器通知功能時，瀏覽器會詢問是否允許通知：
1. 點擊「允許」以啟用桌面通知
2. 即使關閉網頁分頁，只要瀏覽器開啟就能收到通知

### 5. 背景執行
- ⚠️ **重要**：監控功能需要**保持瀏覽器分頁開啟**才能運作
- 建議將此分頁**釘選**在瀏覽器上
- 電腦休眠時監控會暫停，喚醒後會繼續

## 🔧 進階功能

### 監控歷史查詢
點擊「監控記錄」可以查看：
- 每次自動搜尋的時間
- 使用了多少個關鍵字
- 找到多少筆標案
- 其中有多少筆是新標案

### 資料持久化
所有設定和監控記錄都會儲存在瀏覽器的本地儲存（localStorage）中：
- 關鍵字列表
- 監控時間設定
- 已看過的標案列表
- 搜尋歷史記錄

### 統計重置
每天凌晨 00:00，系統會自動重置當日統計數據。

## ❓ 常見問題

### Q1: 為什麼沒有收到通知？
**A:** 請檢查：
1. 監控是否已啟動（狀態顯示「運作中」）
2. 是否已授權瀏覽器通知
3. 瀏覽器分頁是否保持開啟
4. 是否真的有符合關鍵字的新標案

### Q2: 可以設定其他時間嗎？
**A:** 目前預設為 08:00 和 17:00，這是最常見的需求時間。如需其他時間，可以聯繫開發者。

### Q3: 監控會消耗很多資源嗎？
**A:** 不會。監控每分鐘只檢查一次時間，只有在設定的時間點才會執行搜尋。

### Q4: 如果電腦關機了怎麼辦？
**A:** 電腦關機時監控會停止。建議使用電腦睡眠模式而不是關機。

### Q5: 為什麼「立即測試」後沒有顯示結果？
**A:** 「立即測試」會在背景執行搜尋，完成後會更新統計數據。搜尋結果不會直接顯示在頁面上，但會統計到「發現標案數」中。如果發現新標案，會顯示通知。

## 🛡️ 注意事項

1. **API 速率限制**：為避免觸發 API 速率限制，系統在每個關鍵字搜尋之間會間隔 1 秒
2. **關鍵字數量**：建議不要設定超過 20 個關鍵字，以免單次搜尋時間過長
3. **瀏覽器兼容性**：建議使用 Chrome、Firefox 或 Edge 瀏覽器
4. **隱私安全**：所有資料僅儲存在您的瀏覽器中，不會上傳到任何伺服器

## 📞 技術支援

如有任何問題或建議，請聯繫系統管理員。

---

**版本**：1.0  
**最後更新**：2025年10月

