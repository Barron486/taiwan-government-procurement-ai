# 📚 完整文檔索引

## 🎯 文檔概覽

本專案提供完整的技術文檔，幫助您理解系統運作方式和進行問題排查。

---

## 📖 文檔清單

### 1. **詳細資料處理流程說明** 📄
   **檔案**: `DETAIL_DATA_PROCESSING.md`
   
   **內容**:
   - ✅ 完整的資料處理流程
   - ✅ API 請求與回應格式
   - ✅ 資料結構詳解
   - ✅ 關鍵函數原始碼解析
   - ✅ 錯誤處理機制
   
   **適合對象**: 開發者、系統維護人員

---

### 2. **詳細資料流程視覺化** 🎨
   **檔案**: `DETAIL_FLOW_VISUAL.md`
   
   **內容**:
   - ✅ 視覺化流程圖
   - ✅ 實際案例演示
   - ✅ 資料轉換示例
   - ✅ 常見問題排查
   - ✅ 調試技巧
   
   **適合對象**: 所有人（包含非技術人員）

---

### 3. **API 使用說明** 🌐
   **檔案**: `API_INFO.md`
   
   **內容**:
   - ✅ API 端點列表
   - ✅ 請求參數說明
   - ✅ 回應格式範例
   - ✅ Cloudflare 403 問題說明
   - ✅ 瀏覽器測試方法
   
   **適合對象**: 開發者、API 使用者

---

### 4. **更新總結** 📝
   **檔案**: `UPDATES_SUMMARY.md`
   
   **內容**:
   - ✅ 最近的功能更新
   - ✅ 競爭情報分析系統介紹
   - ✅ 羅氏診斷視角說明
   - ✅ 使用方式指南
   
   **適合對象**: 產品經理、使用者

---

### 5. **GitHub 更新確認** ✅
   **檔案**: `GITHUB_UPDATE_CONFIRMATION.md`
   
   **內容**:
   - ✅ Git commit 歷史
   - ✅ 已上傳的檔案清單
   - ✅ 分支狀態
   - ✅ 如何查看更新
   
   **適合對象**: 開發團隊、版本管理

---

### 6. **專案說明** 📋
   **檔案**: `README.md`
   
   **內容**:
   - ✅ 專案簡介
   - ✅ 功能特色
   - ✅ 快速開始指南
   - ✅ 技術棧
   
   **適合對象**: 所有人

---

## 🛠️ 工具檔案

### 1. **API 調試工具** 🔧
   **檔案**: `debug_api.html`
   
   **功能**:
   - 測試基本 API 連接
   - 測試公司搜尋
   - 測試詳細資料載入
   - 提供詳細日誌
   
   **使用方式**: 雙擊開啟，點擊測試按鈕

---

### 2. **公司搜尋測試工具** 🔍
   **檔案**: `test_company_search.html`
   
   **功能**:
   - 測試多種搜尋策略
   - 顯示每個策略的結果
   - 統計成功率
   - 去重複處理
   
   **使用方式**: 開啟後輸入公司名稱，點擊「開始測試」

---

## 🗺️ 文檔導航

### 如果您想了解...

#### 「為什麼詳細資料顯示不出來？」
→ 閱讀 `DETAIL_DATA_PROCESSING.md` 的「錯誤處理機制」章節
→ 使用 `debug_api.html` 測試 API 連接

#### 「detail 資料結構是怎樣的？」
→ 閱讀 `DETAIL_DATA_PROCESSING.md` 的「資料結構說明」章節

#### 「如何加入行事曆功能運作？」
→ 閱讀 `DETAIL_FLOW_VISUAL.md` 的「行事曆功能」章節

#### 「為什麼會出現 403 錯誤？」
→ 閱讀 `API_INFO.md` 的「Cloudflare 403 問題說明」章節

#### 「系統最近做了哪些更新？」
→ 閱讀 `UPDATES_SUMMARY.md` 和 `GITHUB_UPDATE_CONFIRMATION.md`

#### 「如何測試 API 是否正常？」
→ 使用 `debug_api.html` 或 `test_company_search.html`

---

## 📊 資料處理全景圖

```
┌────────────────────────────────────────────────────────────────┐
│                       用戶界面 (UI)                             │
├────────────────────────────────────────────────────────────────┤
│                                                                 │
│  index.html (主頁)                 company_analysis.html        │
│  ├─ 搜尋功能                       ├─ 競爭情報分析             │
│  ├─ 結果顯示                       ├─ 3年數據統計               │
│  └─ 詳細資料按鈕 ────────┐        └─ Gemini AI 分析           │
│                           │                                     │
└───────────────────────────┼─────────────────────────────────────┘
                            │
                            ↓
┌────────────────────────────────────────────────────────────────┐
│                    JavaScript 處理層                            │
├────────────────────────────────────────────────────────────────┤
│                                                                 │
│  showDetail()              performGeminiAnalysis()             │
│  ├─ API 請求               ├─ 數據預處理                       │
│  ├─ 重試機制               ├─ 提取決標金額                     │
│  ├─ 超時控制               └─ Gemini API 調用                  │
│  └─ 資料解析                                                   │
│      │                                                          │
│      ↓                                                          │
│  buildGovUrl()             calculateStats()                    │
│  ├─ 構建連結               ├─ 統計計算                         │
│  └─ 優先順序處理           └─ 年度分析                         │
│      │                                                          │
│      ↓                                                          │
│  addToCalendar()           displayYearlyStats()                │
│  ├─ 日期轉換               ├─ 視覺化呈現                       │
│  └─ Google Calendar        └─ 趨勢分析                         │
│                                                                 │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ↓
┌────────────────────────────────────────────────────────────────┐
│                      API 服務層                                 │
├────────────────────────────────────────────────────────────────┤
│                                                                 │
│  政府採購 API (pcc-api.openfun.app)                           │
│  ├─ /searchbycompanyname   (搜尋公司)                         │
│  ├─ /searchbytitle         (搜尋標案名稱)                     │
│  ├─ /tender                (取得詳細資料) ← 這裡！            │
│  └─ /listbyunit            (列出機關標案)                     │
│                                                                 │
│  Gemini API (Google)                                           │
│  └─ /generateContent       (AI 分析)                          │
│                                                                 │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ↓
┌────────────────────────────────────────────────────────────────┐
│                      資料來源                                   │
├────────────────────────────────────────────────────────────────┤
│                                                                 │
│  政府電子採購網 (web.pcc.gov.tw)                              │
│  └─ 官方標案資料                                               │
│                                                                 │
└────────────────────────────────────────────────────────────────┘
```

---

## 🚀 快速開始

### 1. 理解基礎（5分鐘）
閱讀 `DETAIL_FLOW_VISUAL.md` 的前半部分

### 2. 深入技術（15分鐘）
閱讀 `DETAIL_DATA_PROCESSING.md` 的關鍵函數解析

### 3. 解決問題（5分鐘）
使用 `debug_api.html` 或 `test_company_search.html` 測試

### 4. 了解更新（10分鐘）
閱讀 `UPDATES_SUMMARY.md` 和 `GITHUB_UPDATE_CONFIRMATION.md`

---

## 📞 需要幫助？

### 常見問題
1. **詳細資料無法顯示** → 查看 `DETAIL_DATA_PROCESSING.md` 第5章
2. **API 連接失敗** → 查看 `API_INFO.md`
3. **行事曆功能異常** → 查看 `DETAIL_FLOW_VISUAL.md` 的行事曆功能章節

### 調試工具
1. **API 測試** → 使用 `debug_api.html`
2. **公司搜尋測試** → 使用 `test_company_search.html`
3. **瀏覽器 Console** → 按 F12 查看詳細日誌

---

## 📅 文檔維護

- **最後更新**: 2025年10月20日
- **版本**: v1.5.0
- **維護者**: Development Team

---

**所有文檔已就緒！** 🎉

選擇您需要的文檔開始閱讀吧！
